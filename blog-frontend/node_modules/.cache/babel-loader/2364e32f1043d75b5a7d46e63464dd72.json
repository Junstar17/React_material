{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport { Map } from 'immutable';\nimport { pender } from 'redux-pender';\nimport * as api from 'lib/api'; // action type\n\nconst INITIALIZE = '/editor/INITIALIZE';\nconst CHANGE_INPUT = '/editor/CHANGE_INPUT';\nconst WRITE_POST = '/editor/WRITE_POST';\nconst GET_POST = '/editor/GET_POST'; // action Creators\n\nexport const initialize = createAction(INITIALIZE);\nexport const changeInput = createAction(CHANGE_INPUT);\nexport const writePost = createAction(WRITE_POST, api.writePost);\nexport const getPost = createAction(GET_POST, api.getPost); // initial State\n\nconst initialState = Map({\n  title: '',\n  markdown: '',\n  tags: '',\n  postId: null\n});\nexport default handleActions({\n  [INITIALIZE]: (state, action) => initialState,\n  [CHANGE_INPUT]: (state, action) => {\n    const {\n      name,\n      value\n    } = action.payload;\n    return state.set(name, value);\n  },\n  ...pender({\n    type: WRITE_POST,\n    onSuccess: (state, action) => {\n      const {\n        _id\n      } = action.payload.data;\n      return state.set('postId', _id);\n    }\n  }),\n  ...pender({\n    type: GET_POST,\n    onSuccess: (state, action) => {\n      const {\n        title,\n        body,\n        tags\n      } = action.payload.data;\n      return state.set('title', title).set('markdown', body).set('tags', tags.join(', '));\n    }\n  })\n}, initialState);","map":{"version":3,"sources":["/Users/junyoung/React/blog-frontend/src/store/modules/editor.js"],"names":["createAction","handleActions","Map","pender","api","INITIALIZE","CHANGE_INPUT","WRITE_POST","GET_POST","initialize","changeInput","writePost","getPost","initialState","title","markdown","tags","postId","state","action","name","value","payload","set","type","onSuccess","_id","data","body","join"],"mappings":"AAAA,SAAQA,YAAR,EAAsBC,aAAtB,QAA0C,eAA1C;AAEA,SAAQC,GAAR,QAAkB,WAAlB;AACA,SAAQC,MAAR,QAAqB,cAArB;AACA,OAAO,KAAKC,GAAZ,MAAqB,SAArB,C,CAGA;;AACA,MAAMC,UAAU,GAAG,oBAAnB;AACA,MAAMC,YAAY,GAAG,sBAArB;AACA,MAAMC,UAAU,GAAG,oBAAnB;AACA,MAAMC,QAAQ,GAAG,kBAAjB,C,CAEA;;AACA,OAAO,MAAMC,UAAU,GAAET,YAAY,CAACK,UAAD,CAA9B;AACP,OAAO,MAAMK,WAAW,GAAEV,YAAY,CAACM,YAAD,CAA/B;AACP,OAAO,MAAMK,SAAS,GAAGX,YAAY,CAACO,UAAD,EAAYH,GAAG,CAACO,SAAhB,CAA9B;AACP,OAAO,MAAMC,OAAO,GAAGZ,YAAY,CAACQ,QAAD,EAAUJ,GAAG,CAACQ,OAAd,CAA5B,C,CAEP;;AACA,MAAMC,YAAY,GAAGX,GAAG,CAAC;AACrBY,EAAAA,KAAK,EAAE,EADc;AAErBC,EAAAA,QAAQ,EAAG,EAFU;AAGrBC,EAAAA,IAAI,EAAG,EAHc;AAIrBC,EAAAA,MAAM,EAAG;AAJY,CAAD,CAAxB;AAOA,eAAehB,aAAa,CAAC;AACzB,GAACI,UAAD,GAAc,CAACa,KAAD,EAAOC,MAAP,KAAgBN,YADL;AAEzB,GAACP,YAAD,GAAgB,CAACY,KAAD,EAAOC,MAAP,KAAgB;AAC5B,UAAM;AAACC,MAAAA,IAAD;AAAOC,MAAAA;AAAP,QAAgBF,MAAM,CAACG,OAA7B;AACA,WAAOJ,KAAK,CAACK,GAAN,CAAUH,IAAV,EAAeC,KAAf,CAAP;AACH,GALwB;AAMzB,KAAGlB,MAAM,CAAC;AACNqB,IAAAA,IAAI,EAAEjB,UADA;AAENkB,IAAAA,SAAS,EAAE,CAACP,KAAD,EAAOC,MAAP,KAAgB;AACvB,YAAM;AAAEO,QAAAA;AAAF,UAASP,MAAM,CAACG,OAAP,CAAeK,IAA9B;AACA,aAAOT,KAAK,CAACK,GAAN,CAAU,QAAV,EAAmBG,GAAnB,CAAP;AACH;AALK,GAAD,CANgB;AAazB,KAAGvB,MAAM,CAAC;AACNqB,IAAAA,IAAI,EAAChB,QADC;AAENiB,IAAAA,SAAS,EAAE,CAACP,KAAD,EAAOC,MAAP,KAAgB;AACvB,YAAM;AAACL,QAAAA,KAAD;AAAOc,QAAAA,IAAP;AAAYZ,QAAAA;AAAZ,UAAoBG,MAAM,CAACG,OAAP,CAAeK,IAAzC;AACA,aAAOT,KAAK,CAACK,GAAN,CAAU,OAAV,EAAkBT,KAAlB,EACMS,GADN,CACU,UADV,EACqBK,IADrB,EAEML,GAFN,CAEU,MAFV,EAEiBP,IAAI,CAACa,IAAL,CAAU,IAAV,CAFjB,CAAP;AAGH;AAPK,GAAD;AAbgB,CAAD,EAuBxBhB,YAvBwB,CAA5B","sourcesContent":["import {createAction, handleActions} from 'redux-actions';\n\nimport {Map} from 'immutable';\nimport {pender} from 'redux-pender';\nimport * as api from 'lib/api';\n\n\n// action type\nconst INITIALIZE = '/editor/INITIALIZE';\nconst CHANGE_INPUT = '/editor/CHANGE_INPUT';\nconst WRITE_POST = '/editor/WRITE_POST';\nconst GET_POST = '/editor/GET_POST';\n\n// action Creators\nexport const initialize= createAction(INITIALIZE);\nexport const changeInput= createAction(CHANGE_INPUT);\nexport const writePost = createAction(WRITE_POST,api.writePost);\nexport const getPost = createAction(GET_POST,api.getPost);\n\n// initial State\nconst initialState = Map({\n    title: '',\n    markdown : '',\n    tags : '',\n    postId : null,\n});\n\nexport default handleActions({\n    [INITIALIZE]: (state,action)=>initialState,\n    [CHANGE_INPUT]: (state,action)=>{\n        const {name, value} = action.payload;\n        return state.set(name,value);\n    },\n    ...pender({\n        type: WRITE_POST,\n        onSuccess: (state,action)=>{\n            const { _id} = action.payload.data;\n            return state.set('postId',_id);\n        }\n    }),\n    ...pender({\n        type:GET_POST,\n        onSuccess: (state,action)=>{\n            const {title,body,tags} = action.payload.data;\n            return state.set('title',title)\n                        .set('markdown',body)\n                        .set('tags',tags.join(', '))\n        }\n    })\n},\n    initialState);\n"]},"metadata":{},"sourceType":"module"}