{"ast":null,"code":"import { createAction, handleActions } from 'redux-actions';\nimport { Map } from 'immutable';\nimport { pender } from 'redux-pender';\nimport * as api from 'lib/api';\nconst SHOW_MODAL = 'base/SHOW_MODAL';\nconst HIDE_MODAL = 'base/HIDE_MODAL';\nconst LOGIN = 'base/LOGIN';\nconst LOGOUT = 'base/LOGOUT';\nconst CHECK_LOGIN = 'base/CHECK_LOGIN';\nconst CHANGE_PASSWORD_INPUT = 'base/CHANGE_PASSWORD_INPUT';\nconst INITIALIZE_LOGIN_MODAL = 'base/INITIALIZE_LOGIN_MODAL';\nconst TEMP_LOGIN = 'base/TEMP_LOGIN';\nexport const showModal = createAction(SHOW_MODAL);\nexport const hideModal = createAction(HIDE_MODAL);\nexport const login = createAction(LOGIN, api.login);\nexport const logout = createAction(LOGOUT, api.logout);\nexport const checkLogin = createAction(CHECK_LOGIN, api.checkLogin);\nexport const changePasswordInput = createAction(CHANGE_PASSWORD_INPUT);\nexport const initializeLoginModal = createAction(INITIALIZE_LOGIN_MODAL);\nexport const tempLogin = createAction(TEMP_LOGIN);\nconst initialState = Map({\n  modal: Map({\n    remove: false,\n    login: false\n  }),\n  loginModal: Map({\n    password: '',\n    error: false\n  }),\n  logged: false\n});\nexport default handleActions({\n  [SHOW_MODAL]: (state, action) => {\n    const {\n      payload: modalName\n    } = action;\n    return state.setIn(['modal', modalName], true);\n  },\n  [HIDE_MODAL]: (state, action) => {\n    const {\n      payload: modalName\n    } = action;\n    return state.setIn(['modal', modalName], false);\n  },\n  ...pender({\n    type: LOGIN,\n    onSuccess: (state, action) => {\n      return state.set('logged', true);\n    },\n    onError: (state, action) => {\n      return state.setIn(['loginModal', 'error'], true).setIn(['loginModal', 'password'], '');\n    }\n  }),\n  ...pender({\n    type: CHECK_LOGIN,\n    onSuccess: (state, action) => {\n      const {\n        logged\n      } = action.payload.data;\n      return state.set('logged', logged);\n    }\n  }),\n  [CHANGE_PASSWORD_INPUT]: (state, action) => {\n    const {\n      payload: value\n    } = action;\n    return state.setIn([\"loginModal\", \"password\"], value);\n  },\n  [INITIALIZE_LOGIN_MODAL]: (state, action) => {\n    return state.set('loginModal', initialState.get('loginModal'));\n  }\n}, initialState);","map":{"version":3,"sources":["/Users/junyoung/React/blog-frontend/src/store/modules/base.js"],"names":["createAction","handleActions","Map","pender","api","SHOW_MODAL","HIDE_MODAL","LOGIN","LOGOUT","CHECK_LOGIN","CHANGE_PASSWORD_INPUT","INITIALIZE_LOGIN_MODAL","TEMP_LOGIN","showModal","hideModal","login","logout","checkLogin","changePasswordInput","initializeLoginModal","tempLogin","initialState","modal","remove","loginModal","password","error","logged","state","action","payload","modalName","setIn","type","onSuccess","set","onError","data","value","get"],"mappings":"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","sourcesContent":["import {createAction, handleActions} from 'redux-actions';\n\nimport {Map} from 'immutable';\nimport {pender} from 'redux-pender';\nimport * as api from 'lib/api';\n\nconst SHOW_MODAL = 'base/SHOW_MODAL';\nconst HIDE_MODAL = 'base/HIDE_MODAL';\nconst LOGIN = 'base/LOGIN';\nconst LOGOUT = 'base/LOGOUT';\nconst CHECK_LOGIN = 'base/CHECK_LOGIN';\nconst CHANGE_PASSWORD_INPUT = 'base/CHANGE_PASSWORD_INPUT';\nconst INITIALIZE_LOGIN_MODAL = 'base/INITIALIZE_LOGIN_MODAL';\nconst TEMP_LOGIN = 'base/TEMP_LOGIN';\n\nexport const showModal = createAction(SHOW_MODAL);\nexport const hideModal = createAction(HIDE_MODAL);\nexport const login = createAction(LOGIN, api.login);\nexport const logout = createAction(LOGOUT, api.logout);\nexport const checkLogin = createAction(CHECK_LOGIN, api.checkLogin);\nexport const changePasswordInput = createAction(CHANGE_PASSWORD_INPUT);\nexport const initializeLoginModal = createAction(INITIALIZE_LOGIN_MODAL);\nexport const tempLogin = createAction(TEMP_LOGIN);\nconst initialState = Map({\n    modal: Map({\n        remove: false,\n        login: false\n    }),\n    loginModal : Map({\n        password: '',\n        error:false\n    }),\n    logged:false\n});\n\nexport default handleActions({\n    [SHOW_MODAL]: (state,action)=>{\n        const {payload: modalName} = action;\n        return state.setIn(['modal',modalName], true);\n    },\n    [HIDE_MODAL]: (state, action)=>{\n        const{payload:modalName} =action;\n        return state.setIn(['modal',modalName],false);\n    },\n    ...pender({\n        type:LOGIN,\n        onSuccess: (state,action)=>{\n            return state.set('logged',true);\n        },\n        onError: (state,action) =>{\n            return state.setIn(['loginModal','error'],true).setIn(['loginModal','password'],'');\n        }\n    }),\n    ...pender({\n        type:CHECK_LOGIN,\n        onSuccess:(state,action)=>{\n            const{logged} = action.payload.data;\n            return state.set('logged',logged);\n        }\n    }),\n    [CHANGE_PASSWORD_INPUT]:(state,action)=>{\n        const {payload:value} = action;\n        return state.setIn([\"loginModal\",\"password\"],value);\n    },\n    [INITIALIZE_LOGIN_MODAL]: (state,action)=>{\n        return state.set('loginModal',initialState.get('loginModal'));\n    }\n},\n    initialState);\n"]},"metadata":{},"sourceType":"module"}