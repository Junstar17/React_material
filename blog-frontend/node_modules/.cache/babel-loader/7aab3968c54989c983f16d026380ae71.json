{"ast":null,"code":"var _jsxFileName = \"/Users/junyoung/React/blog-frontend/src/containers/editor/EditorHeaderContainer.js\";\nimport React, { Component } from 'react';\nimport EditorHeader from 'components/editor/EditorHeader';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'react-router-dom';\nimport * as editorActions from 'store/modules/editor';\nimport queryString from 'query-string';\n\nclass EditorHeaderContainer extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.handleGoBack = () => {\n      const {\n        history\n      } = this.props;\n      history.goBack();\n    };\n\n    this.handleSubmit = async () => {\n      const {\n        title,\n        markdown,\n        tags,\n        EditorActions,\n        history,\n        location\n      } = this.props;\n      const post = {\n        title,\n        body: markdown,\n        tags: tags === \"\" ? [] : [...new Set(tags.split(',').map(tag => tag.trim()))]\n      };\n\n      try {\n        const {\n          id\n        } = queryString.parse(location.search);\n\n        if (id) {\n          await EditorActions.editPost({\n            id,\n            ...post\n          });\n          history.push(`/post/${id}`);\n          return;\n        }\n\n        await EditorActions.writePost(post);\n        history.push(`/post/${this.props.postId}`);\n      } catch (e) {\n        console.log(e);\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      EditorActions,\n      location\n    } = this.props;\n    EditorActions.initialize();\n    const {\n      id\n    } = queryString.parse(location.search);\n\n    if (id) {\n      EditorActions.getPost(id);\n    }\n  }\n\n  render() {\n    const {\n      handleGoBack,\n      handleSubmit\n    } = this;\n    return /*#__PURE__*/React.createElement(EditorHeader, {\n      onGoBack: handleGoBack,\n      onSubmit: handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default connect(state => ({\n  title: state.editor.get('title'),\n  markdown: state.editor.get('markdown'),\n  tags: state.editor.get('tags'),\n  postId: state.editor.get('postId')\n}), dispatch => ({\n  EditorActions: bindActionCreators(editorActions, dispatch)\n}))(withRouter(EditorHeaderContainer));","map":{"version":3,"sources":["/Users/junyoung/React/blog-frontend/src/containers/editor/EditorHeaderContainer.js"],"names":["React","Component","EditorHeader","connect","bindActionCreators","withRouter","editorActions","queryString","EditorHeaderContainer","handleGoBack","history","props","goBack","handleSubmit","title","markdown","tags","EditorActions","location","post","body","Set","split","map","tag","trim","id","parse","search","editPost","push","writePost","postId","e","console","log","componentDidMount","initialize","getPost","render","state","editor","get","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport EditorHeader from 'components/editor/EditorHeader';\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {withRouter} from 'react-router-dom';\nimport * as editorActions from 'store/modules/editor';\nimport queryString from 'query-string';\n\nclass EditorHeaderContainer extends Component {\n    componentDidMount(){\n        const{EditorActions, location} = this.props;\n        EditorActions.initialize();\n\n        const {id} = queryString.parse(location.search);\n        if(id){\n            EditorActions.getPost(id);\n        }\n\n    }\n    \n    handleGoBack =() =>{\n        const { history} =this.props;\n        history.goBack();\n    }\n\n    handleSubmit = async () => {\n        const { title,markdown,tags,EditorActions,history, location} = this.props;\n        const post = {\n            title,\n            body: markdown,\n            tags: tags === \"\" ? [] : [...new Set(tags.split(',').map(tag=>tag.trim()))]\n        };\n        try{\n            const {id} = queryString.parse(location.search);\n            if(id){\n                await EditorActions.editPost({id,...post});\n                history.push(`/post/${id}`);\n                return;\n            }\n            await EditorActions.writePost(post);\n            history.push(`/post/${this.props.postId}`);\n        }catch(e){\n            console.log(e);\n        }\n    }\n\n    render() {\n        const {handleGoBack,handleSubmit} = this;\n\n        return (\n           <EditorHeader \n            onGoBack = {handleGoBack}\n            onSubmit = {handleSubmit}\n            />\n        );\n    }\n}\n\nexport default connect(\n    (state) => ({\n        title: state.editor.get('title'),\n        markdown: state.editor.get('markdown'),\n        tags : state.editor.get('tags'),\n        postId: state.editor.get('postId')\n    }),\n    (dispatch) => ({\n        EditorActions : bindActionCreators(editorActions,dispatch)\n    })\n)(withRouter(EditorHeaderContainer));"]},"metadata":{},"sourceType":"module"}